<?xml version="1.0"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:framework:Event/etc/events.xsd">
    <!-- Create MyParcel concept if shipment is created -->
    <event name="sales_order_shipment_save_before">
        <observer name="mypa_save_shipment" instance="MyParcelNL\Magento\Observer\NewShipment"/>
    </event>
    <event name="sales_order_invoice_pay">
        <observer name="mypa_create_concept_after_invoice" instance="MyParcelNL\Magento\Observer\CreateConceptAfterInvoice"/>
    </event>
    <event name="sales_model_service_quote_submit_before">
        <observer name="mypa_sales_model_service_quote_submit_before" instance="MyParcelNL\Magento\Model\Quote\SaveOrderBeforeSalesModelQuoteObserver"/>
    </event>
    <event name="sales_order_status_history_save_after">
        <observer name="mypa_sales_order_status_history_save_after" instance="MyParcelNL\Magento\Observer\SalesOrderStatusHistoryObserver"/>
    </event>
    <!-- allow the dynamic settings to specify the (legacy) path to save the values in -->
    <event name="admin_system_config_changed_section_myparcelnl_magento_dynamic_settings">
        <observer name="mypa_admin_system_config_changed_section_myparcelnl_magento_dynamic_settings" instance="MyParcelNL\Magento\Observer\ConfigChange"/>
    </event>
</config>
